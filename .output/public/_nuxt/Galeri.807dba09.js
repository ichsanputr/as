import{_ as G,r as l,s as I,v as z,x as E,u as P,c as a,e as _,f as S,a as t,F as b,j as v,l as y,o,t as d,p as $,q as B}from"./entry.43c9b4a4.js";import{_ as D}from"./BreadCrumb.dd0e7ea1.js";import{P as L}from"./photoswipe.2681c699.js";const u=i=>($("data-v-b067e3d0"),i=i(),B(),i),j={class:"animate-fade flex-1 px-[2rem] sm:px-[6rem] md:px-[3rem] lg:px-[10rem] xl:px-[14rem] pt-6"},F=u(()=>t("span",null,"Galeri Desa",-1)),M={class:"pb-[1rem]"},T=u(()=>t("h1",{class:"mb-2 font-semibold text-[#0088CC] text-2xl"},"Galeri Video",-1)),N={class:"grid grid-cols-1 md:grid-cols-3 gap-[2rem]"},q=["href"],A=["src"],H={class:"rounded-b-lg py-3 px-2 font-medium text-base md:text-lg backdrop-blur-sm bg-white/30 shadow-sm border border-slate-100"},O={key:0},R={key:1},U={class:"pb-[6rem]"},Y=u(()=>t("h1",{class:"mb-8 font-semibold text-[#0088CC] text-2xl"},"Galeri Foto",-1)),J={id:"gallery",class:"grid grid-cols-1 md:grid-cols-3 gap-[2rem] md:gap-y-[2rem]"},K=["href"],Q={class:"rounded-b-lg py-3 px-2 font-medium text-base md:text-lg backdrop-blur-sm bg-white/30 shadow-sm border border-slate-100"},W={key:0},X={key:1},Z={__name:"Galeri",setup(i){const c=l(null),m=l([]),h=l([]),n=l(1),g=l(0);I(async()=>{await z(()=>{c.value||(c.value=new L({gallery:"#gallery",children:"a",pswpModule:()=>E(()=>import("./photoswipe.esm.3ee328cd.js"),[],import.meta.url)}),c.value.init())}),await w(),await f()});const w=async()=>{try{const r=await(await fetch("/api/image-gallery")).json();m.value=r.data}catch(s){console.error("Error fetching images:",s)}},f=async()=>{try{const r=await(await fetch(`/api/video-gallery?limit=3&page=${n.value}`)).json();h.value=r.data,g.value=Math.ceil(r.total/3)}catch(s){console.error("Error fetching videos:",s)}},x=async s=>{n.value=s,await f()};return P({title:"Galeri Desa"}),(s,r)=>{const k=D,V=y("v-pagination"),C=y("v-img");return o(),a("div",j,[_(k,null,{root:S(()=>[F]),_:1}),t("div",M,[T,t("div",N,[(o(!0),a(b,null,v(h.value,(e,p)=>(o(),a("div",{key:p,class:"w-full rounded-lg"},[t("a",{href:e.url,target:"_blank",rel:"noreferrer"},[t("iframe",{class:"w-full rounded-t-lg shadow-sm",width:"100%",height:"245",loading:"lazy",src:e.url,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,A)],8,q),t("div",H,[e.description.length>40&&s.$vuetify.display.mobile?(o(),a("span",O,d(e.description.slice(0,40))+"...",1)):(o(),a("span",R,d(e.description),1))])]))),128))]),_(V,{size:s.$vuetify.display.mobile?"small":"default",class:"mt-4 mb-6 md:mb-10",modelValue:n.value,"onUpdate:modelValue":[r[0]||(r[0]=e=>n.value=e),x],"total-visible":5,length:g.value},null,8,["size","modelValue","length"])]),t("div",U,[Y,t("div",J,[(o(!0),a(b,null,v(m.value,(e,p)=>(o(),a("a",{class:"w-full cursor-pointer rounded-lg",key:p,href:e.url,"data-pswp-width":"600","data-pswp-height":"400",target:"_blank",rel:"noreferrer"},[_(C,{"lazy-src":e.url,class:"w-full rounded-t-lg",height:"300",src:e.url,alt:""},null,8,["lazy-src","src"]),t("div",Q,[e.description.length>40&&s.$vuetify.display.mobile?(o(),a("span",W,d(e.description.slice(0,40))+"...",1)):(o(),a("span",X,d(e.description),1))])],8,K))),128))])])])}}},ae=G(Z,[["__scopeId","data-v-b067e3d0"]]);export{ae as default};
